<svg fill="none" viewBox="0 0 1200 750" width="1200" height="750" xmlns="http://www.w3.org/2000/svg">
    <foreignObject width="100%" height="100%">
        <div xmlns="http://www.w3.org/1999/xhtml">
            <style>
                * {
                    box-sizing: border-box;
                }

                body {
                    width: 100%;
                    height: 100vh;
                    display: flex;
                    align-items: center;
                    font-family: "Montserrat", sans-serif;
                }

                .m-intro {
                    width: 80%;
                    position: relative;
                    z-index: 101;
                    width: 70vw;
                    padding: 0 3em;
                }

                .m-intro h1 {
                    font-size: 3em;
                    line-height: 1.5em;
                }

                #arden.is-typing::after {
                    content: "|";
                    -webkit-animation: blink 0.6s infinite;
                    animation: blink 0.6s infinite;
                    font-weight: 300;
                }

                #arden span {
                    position: relative;
                }

                #arden span::after {
                    content: "";
                    position: absolute;
                    transition: all 0.3s ease;
                    bottom: 0px;
                    left: 0;
                    width: 100%;
                    height: 2px;
                    background: red;
                }

                .m-background {
                    position: absolute;
                    top: 0;
                    right: 0;
                    width: 100vw;
                    height: 100vh;
                    overflow: hidden;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                }

                .m-background::after {
                    content: "";
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 70vw;
                    height: 100vh;
                    transform: scaleX(0);
                    transform-origin: 0 0;
                    background: rgba(255, 255, 255, 0.9);
                    transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
                }

                .m-background__inner {
                    background-size: cover;
                    background-position: center;
                    background-repeat: no-repeat;
                    width: 100vw;
                    height: 100vh;
                    position: absolute;
                    top: 0;
                    right: 0;
                    transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
                }

                .m-background__inner.is-active {
                    visibility: visible;
                    opacity: 1;
                }

                .m-background.is-active {
                    opacity: 1;
                }

                .m-background.is-shrunken::after {
                    transform: scaleX(1);
                }

                @-webkit-keyframes blink {
                    from {
                        opacity: 0;
                    }

                    to {
                        opacity: 1;
                    }
                }

                @keyframes blink {
                    from {
                        opacity: 0;
                    }

                    to {
                        opacity: 1;
                    }
                }
            </style>

            <body>
                <!-- partial:index.partial.html -->
                <div class="container py-5">
                    <div class="output" id="output">
                        <h1 class="cursor"></h1>
                        <p></p>
                    </div>
                </div>
                <!-- partial -->
                <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
                <script>
                    const scene = theaterJS({ minSpeed: 60 });
                    const body = document.querySelector('body');
                    const bg = document.querySelector('.m-background');
                    const images = Array.from(document.querySelectorAll('.m-background__inner'));


                    function slider() {
                        const offsets = [];

                        function setStage() {
                            for (let i = 0; i < images.length; i++) {
                                const offset = i * 100;
                                offsets.push(offset);
                                images[i].style.transform = `translateX(${offset}vw)`;
                            }
                        }


                        function goTo(num) {
                            console.log(num);
                            for (let i = 0; i < offsets.length; i++) {
                                const offset = offsets[i] - (num * 100);
                                images[i].style.transform = `translateX(${offset}vw)`;
                            }
                        }

                        setStage();

                        return { goTo };
                    }

                    slider();

                    scene
                        .on('type:start, erase:start', () => {
                            // add a class to actor's dom element when he starts typing/erasing
                            const actor = scene.getCurrentActor();
                            actor.$element.classList.add('is-typing');
                        })
                        .on('type:end, erase:end', () => {
                            // and then remove it when he's done
                            const actor = scene.getCurrentActor();
                            actor.$element.classList.remove('is-typing');
                        });

                    scene.addActor('arden', { accuracy: 0.8, speed: 0.8 });

                    scene
                        // .addScene('arden:Hey...', 300)
                        // .addScene('arden:Hola...', 300)
                        // .addScene('arden:Hello...', 300)
                        .addScene('arden:Hi. I\'m <span>Arden</span>')
                        .addScene((done) => {
                            bg.classList.add('is-active');
                            document.querySelector('span').style.color = '#fff';
                            setTimeout(() => {
                                document.querySelector('span').style.color = '#000';
                                bg.classList.add('is-shrunken');
                            }, 900);
                            setTimeout(() => {
                                done();
                            }, 1300);
                        })
                        .addScene('<br/>I\'m a front-end developer')
                        .addScene('<br/>based in <span class="lisbon">Lisbon</span>')
                        .addScene((done) => {
                            setTimeout(() => {
                                bg.classList.remove('is-shrunken');
                                slider().goTo(1);
                                document.querySelector('.lisbon').style.color = '#fff';
                            }, 300);

                            setTimeout(() => {
                                bg.classList.add('is-shrunken');
                                done();
                            }, 1200);
                        })
                        .addScene(', Portugal ðŸ‡µðŸ‡¹')
                        .addScene((done) => {
                            // goTo(0);
                            done();
                        });
                </script>

            </body>
        </div>
    </foreignObject>
</svg>